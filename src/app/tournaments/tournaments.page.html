<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>      
    <ion-title>Manage Tournaments</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list>
    @for (tournament of tournaments$ | async; track tournament.id) {
    <app-tournament-card
      [tournament]="tournament"
      (edit)="editTournament($event)"
      (delete)="deleteTournament($event.id, $event.name)"
      (removeEditAccess)="removeEditAccess($event.id, $event.tournament, $event.email)"
      (approveEditAccess)="approveEditAccess($event.id, $event.tournament, $event.email)"
      (askEdit)="askEditTournament($event.id, $event.tournament, $event.email, $event.displayName, $event.photoURL)"
      (registerAsPlayer)="registerAsPlayer($event.tournamentId, $event.tournamentName)"
      (toggleRegistration)="toggleRegistration($event)"
      (manageTeams)="manageTeams($event)">
    </app-tournament-card>
    }
  </ion-list>

  @if (canCreateTournament) {
  <ion-fab slot="fixed" vertical="bottom" horizontal="end">
    <ion-fab-button (click)="addTournament()">
      <ion-icon name="add-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>
  }

</ion-content>
